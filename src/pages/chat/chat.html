<ion-content overflow-scroll="false">
  <!-- (pan)="handlePan($event)" [style.margin-top.px]='main_content_top_margin' [style.transition]='content_transition' -->
  <div #pagesContainer (scroll)="onScroll($event)" style="height: 100%; overflow-y: auto;" [style.transition]='content_transition'>
    <skeleton-start-page></skeleton-start-page>
    <div class="main-content">
      <div class="chat-header">
        <div class="trip-title"> {{ this.topPosition | number:0 }} </div>
        <div class="chat-ctrls">
          <div tappable (click)="back()" style="display: inline-block">
            <img width="35" height="35" alt="" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA%2FPjxzdmcgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB3aWR0aD0iNDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI%2BPHBhdGggZD0iTTAgMGg0OHY0OGgtNDh6IiBmaWxsPSJub25lIi8%2BPHBhdGggZD0iTTQwIDIyaC0yNC4zNGwxMS4xNy0xMS4xNy0yLjgzLTIuODMtMTYgMTYgMTYgMTYgMi44My0yLjgzLTExLjE3LTExLjE3aDI0LjM0di00eiIvPjwvc3ZnPg%3D%3D"
            />
          </div>
          <div style="display: inline-block">
            <img width="35" height="35" alt="" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA%2FPjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48Zz48cGF0aCBkPSJNMjU2LDMyQzEzMi4zLDMyLDMyLDEzMi4zLDMyLDI1NnMxMDAuMywyMjQsMjI0LDIyNGMxMjMuNywwLDIyNC0xMDAuMywyMjQtMjI0UzM3OS43LDMyLDI1NiwzMnogTTI3Ni4yLDM1OC43ICAgYy0wLjUsMTcuOC0xMy43LDI4LjgtMzAuOCwyOC4zYy0xNi40LTAuNS0yOS4zLTEyLjItMjguOC0zMC4xYzAuNS0xNy44LDE0LjEtMjkuMSwzMC41LTI4LjZDMjY0LjMsMzI4LjgsMjc2LjgsMzQwLjksMjc2LjIsMzU4Ljd6ICAgIE0zMjQuOSwyMzEuNGMtNC4yLDUuOS0xMy42LDEzLjUtMjUuNCwyMi43bC0xMy4xLDljLTYuNCw0LjktMTAuNCwxMC43LTEyLjUsMTcuM2MtMS4xLDMuNS0xLjksMTIuNi0yLjEsMTguNyAgIGMtMC4xLDEuMi0wLjgsMy45LTQuNSwzLjljLTMuNywwLTM1LDAtMzkuMSwwYy00LjEsMC00LjYtMi40LTQuNS0zLjZjMC42LTE2LjYsMy0zMC4zLDkuOS00MS4zYzkuMy0xNC44LDM1LjUtMzAuNCwzNS41LTMwLjQgICBjNC0zLDcuMS02LjIsOS41LTkuN2M0LjQtNiw4LTEyLjcsOC0xOS45YzAtOC4zLTItMTYuMi03LjMtMjIuOGMtNi4yLTcuNy0xMi45LTExLjQtMjUuOC0xMS40Yy0xMi43LDAtMjAuMSw2LjQtMjUuNCwxNC44ICAgYy01LjMsOC40LTQuNCwxOC4zLTQuNCwyNy4zSDE3NWMwLTM0LDguOS01NS43LDI3LjctNjguNWMxMi43LTguNywyOC45LTEyLjUsNDcuOC0xMi41YzI0LjgsMCw0NC41LDQuNiw2MS45LDE3LjggICBjMTYuMSwxMi4yLDI0LjYsMjkuNCwyNC42LDUyLjZDMzM3LDIwOS43LDMzMiwyMjEuNywzMjQuOSwyMzEuNHoiLz48L2c%2BPC9zdmc%2B"
            />
          </div>
          <div tappable (click)="openSettingsModal()" style="display: inline-block">
            <img width="35" height="35" alt="" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA%2FPjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMzJweCIgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNNCwxMGgyNGMxLjEwNCwwLDItMC44OTYsMi0ycy0wLjg5Ni0yLTItMkg0QzIuODk2LDYsMiw2Ljg5NiwyLDhTMi44OTYsMTAsNCwxMHogTTI4LDE0SDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDIgIHMwLjg5NiwyLDIsMmgyNGMxLjEwNCwwLDItMC44OTYsMi0yUzI5LjEwNCwxNCwyOCwxNHogTTI4LDIySDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDJzMC44OTYsMiwyLDJoMjRjMS4xMDQsMCwyLTAuODk2LDItMiAgUzI5LjEwNCwyMiwyOCwyMnoiLz48L3N2Zz4%3D"
            />
          </div>
        </div>
      </div>
      <div class="chat-box">
        <!-- <ion-content #messageArea overflow-scroll="true" class="message-area" (ionScrollStart)="panStartScrollArea($event)" (ionScrollEnd)="panEndScrollArea($event)">
          <div class="message" *ngFor="let message of messages" [ngClass]="getClasses(message.type)">
            <p>{{message.text}}</p>
          </div>
          <button *ngIf="resultIsReady" ion-button round small (click)="transitionToPage()">Results</button>
        </ion-content> -->
        <!-- (panstart)="panStartScrollArea($event)" (panend)="panEndScrollArea($event)" -->
        <div #messageArea class="message-area">
          <div class="message" *ngFor="let message of messages" [ngClass]="getClasses(message.type)">
            <p>{{message.text}}</p>
          </div>
          <button *ngIf="resultIsReady" ion-button round small (click)="transitionToPage()">Results</button>
          <div id="bottomOfChat"></div>
        </div>
        <div class="input-area">
          <form (submit)="sendMessage()" name="messageForm" #messageForm="ngForm">
            <ion-input type="text" name="message" id="message" [(ngModel)]="message" placeholder="Say your travel plans..."></ion-input>
            <button>
              <ion-icon name="mic" *ngIf="!message"></ion-icon>
              <ion-icon name="send" *ngIf="message"></ion-icon>
            </button>
          </form>
        </div>
      </div>
    </div>
    <skeleton-itinerary-page></skeleton-itinerary-page>
    <skeleton-loading-page></skeleton-loading-page>
  </div>
</ion-content>
